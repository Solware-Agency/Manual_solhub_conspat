import { useEffect, useRef } from 'react'

interface RobotEyeTrackingProps {
	className?: string
	style?: React.CSSProperties
}

const RobotEyeTracking = ({ className, style }: RobotEyeTrackingProps) => {
	const eyeBallRef = useRef<SVGGElement>(null)
	const lPupilRef = useRef<SVGGElement>(null)
	const rPupilRef = useRef<SVGGElement>(null)

	useEffect(() => {
		const handleMouseMove = (e: MouseEvent) => {
			if (!eyeBallRef.current || !lPupilRef.current || !rPupilRef.current) return

			const eyeArea = eyeBallRef.current.getBoundingClientRect()
			const R = eyeArea.width / 2
			const centerX = eyeArea.left + R
			const centerY = eyeArea.top + R

			const x = e.clientX - centerX
			const y = e.clientY - centerY
			const theta = Math.atan2(y, x)
			const angle = (theta * 180) / Math.PI + 360

			// Ajusta estos valores según la posición de las pupilas en este SVG
			lPupilRef.current.style.transform = `translateX(93px) translateY(17px) rotate(${angle}deg)`
			rPupilRef.current.style.transform = `translateX(130px) translateY(17px) rotate(${angle}deg)`
		}

		document.addEventListener('mousemove', handleMouseMove)

		return () => {
			document.removeEventListener('mousemove', handleMouseMove)
		}
	}, [])

	return (
		<div
			style={{
				margin: 0,
				padding: 0,
				display: 'flex',
				width: '100%',
				...style,
			}}
		>
		<svg 
			style={{ 
				margin: 'auto'
			}} 
			xmlns="http://www.w3.org/2000/svg" 
			viewBox="0 0 500 500" 
			className={className ? `${className} robot-neon` : 'robot-neon'}
		>
				<g ref={eyeBallRef} transform="matrix(1.283773, 0, 0, 1.268132, -60.945837, 126.346843)" className="eyeball">
					{/* Todos los paths y elementos del SVG */}
					{/* ... (contenido completo del SVG que proporcionaste) ... */}
					<path
						d="M 191.791 1.054 C 193.012 1.049 194.234 1.043 195.455 1.036 C 198.733 1.022 202.011 1.023 205.29 1.027 C 208.046 1.03 210.801 1.025 213.557 1.02 C 220.069 1.008 226.581 1.01 233.093 1.019 C 239.768 1.029 246.442 1.017 253.117 0.995 C 258.887 0.976 264.656 0.971 270.427 0.976 C 273.855 0.978 277.283 0.977 280.713 0.963 C 312.005 0.844 338.651 7.071 361.679 29.573 C 371.067 39.094 379.085 51.38 383.316 64.16 C 384.111 64.172 384.905 64.184 385.723 64.196 C 388.687 64.245 391.65 64.308 394.613 64.377 C 395.892 64.404 397.172 64.427 398.451 64.446 C 400.296 64.473 402.141 64.517 403.987 64.563 C 404.836 64.571 404.836 64.571 405.704 64.579 C 410.476 64.723 413.746 65.811 417.067 69.316 C 418.837 71.957 419.011 73.303 419.03 76.457 C 419.044 77.416 419.056 78.376 419.07 79.364 C 419.063 80.907 419.063 80.907 419.058 82.482 C 419.062 83.546 419.067 84.61 419.072 85.707 C 419.081 87.955 419.077 90.204 419.066 92.453 C 419.052 95.326 419.071 98.197 419.099 101.071 C 419.122 103.822 419.113 106.574 419.108 109.326 C 419.119 110.353 419.131 111.381 419.141 112.439 C 419.057 120.39 419.057 120.39 416.765 123.386 C 412.653 126.81 409.531 127.147 404.246 127.274 C 403.38 127.298 403.38 127.298 402.498 127.323 C 400.667 127.371 398.837 127.41 397.007 127.448 C 395.761 127.48 394.515 127.512 393.268 127.545 C 390.225 127.624 387.181 127.693 384.137 127.758 C 383.835 128.582 383.533 129.406 383.222 130.255 C 378.981 141.684 373.141 151.502 365.268 160.796 C 364.909 161.258 364.55 161.72 364.179 162.197 C 350.692 179.486 327.393 190.003 306.202 193.008 C 299.308 193.737 292.474 193.957 285.546 193.954 C 284.514 193.957 283.481 193.96 282.417 193.963 C 279.613 193.969 276.809 193.972 274.006 193.972 C 272.245 193.973 270.483 193.974 268.722 193.977 C 262.55 193.984 256.377 193.988 250.205 193.988 C 244.497 193.987 238.788 193.995 233.079 194.008 C 228.142 194.019 223.205 194.024 218.268 194.023 C 215.336 194.023 212.403 194.025 209.47 194.034 C 176.096 194.128 176.096 194.128 160.996 188.878 C 160.085 188.562 159.175 188.246 158.237 187.92 C 135.935 179.714 118.784 164.063 107.056 143.451 C 106.758 142.932 106.458 142.414 106.15 141.88 C 103.647 137.368 101.945 132.641 100.288 127.758 C 99.519 127.746 98.749 127.734 97.957 127.722 C 95.086 127.671 92.214 127.61 89.343 127.541 C 88.103 127.514 86.864 127.491 85.624 127.472 C 83.836 127.444 82.048 127.401 80.26 127.355 C 79.186 127.333 78.112 127.312 77.005 127.29 C 72.859 126.791 70.251 125.653 67.359 122.601 C 65.589 119.96 65.414 118.615 65.396 115.461 C 65.382 114.501 65.369 113.542 65.356 112.554 C 65.36 111.525 65.364 110.495 65.368 109.436 C 65.364 108.371 65.358 107.307 65.353 106.211 C 65.345 103.962 65.348 101.714 65.36 99.465 C 65.374 96.592 65.355 93.72 65.326 90.848 C 65.304 88.096 65.312 85.344 65.317 82.592 C 65.306 81.565 65.295 80.537 65.284 79.478 C 65.369 71.528 65.369 71.528 67.66 68.531 C 71.751 65.126 75.167 64.73 80.359 64.644 C 80.955 64.628 81.549 64.611 82.162 64.595 C 84.052 64.546 85.94 64.507 87.829 64.469 C 89.115 64.438 90.4 64.406 91.686 64.373 C 94.827 64.293 97.968 64.224 101.109 64.16 C 101.482 63.247 101.855 62.334 102.24 61.394 C 105.267 54.033 108.681 47.468 113.414 41.033 C 113.919 40.341 114.423 39.649 114.944 38.936 C 133.506 14.559 161.375 0.945 191.791 1.054 Z"
						fill="#585A60"
					></path>
					<path
						d="M 191.791 1.054 C 193.012 1.049 194.234 1.043 195.455 1.036 C 198.733 1.022 202.011 1.023 205.29 1.027 C 208.046 1.03 210.801 1.025 213.557 1.02 C 220.069 1.008 226.581 1.01 233.093 1.019 C 239.768 1.029 246.442 1.017 253.117 0.995 C 258.887 0.976 264.656 0.971 270.427 0.976 C 273.855 0.978 277.283 0.977 280.713 0.963 C 312.005 0.844 338.651 7.071 361.679 29.573 C 371.067 39.094 379.085 51.38 383.316 64.16 C 384.111 64.172 384.905 64.184 385.723 64.196 C 388.687 64.245 391.65 64.308 394.613 64.377 C 395.892 64.404 397.172 64.427 398.451 64.446 C 400.296 64.473 402.141 64.517 403.987 64.563 C 404.836 64.571 404.836 64.571 405.704 64.579 C 410.476 64.723 413.746 65.811 417.067 69.316 C 418.837 71.957 419.011 73.303 419.03 76.457 C 419.044 77.416 419.056 78.376 419.07 79.364 C 419.063 80.907 419.063 80.907 419.058 82.482 C 419.062 83.546 419.067 84.61 419.072 85.707 C 419.081 87.955 419.077 90.204 419.066 92.453 C 419.052 95.326 419.071 98.197 419.099 101.071 C 419.122 103.822 419.113 106.574 419.108 109.326 C 419.119 110.353 419.131 111.381 419.141 112.439 C 419.057 120.39 419.057 120.39 416.765 123.386 C 412.653 126.81 409.531 127.147 404.246 127.274 C 403.38 127.298 403.38 127.298 402.498 127.323 C 400.667 127.371 398.837 127.41 397.007 127.448 C 395.761 127.48 394.515 127.512 393.268 127.545 C 390.225 127.624 387.181 127.693 384.137 127.758 C 383.835 128.582 383.533 129.406 383.222 130.255 C 378.981 141.684 373.141 151.502 365.268 160.796 C 364.909 161.258 364.55 161.72 364.179 162.197 C 350.692 179.486 327.393 190.003 306.202 193.008 C 299.308 193.737 292.474 193.957 285.546 193.954 C 284.514 193.957 283.481 193.96 282.417 193.963 C 279.613 193.969 276.809 193.972 274.006 193.972 C 272.245 193.973 270.483 193.974 268.722 193.977 C 262.55 193.984 256.377 193.988 250.205 193.988 C 244.497 193.987 238.788 193.995 233.079 194.008 C 228.142 194.019 223.205 194.024 218.268 194.023 C 215.336 194.023 212.403 194.025 209.47 194.034 C 176.096 194.128 176.096 194.128 160.996 188.878 C 160.085 188.562 159.175 188.246 158.237 187.92 C 135.935 179.714 118.784 164.063 107.056 143.451 C 106.758 142.932 106.458 142.414 106.15 141.88 C 103.647 137.368 101.945 132.641 100.288 127.758 C 99.519 127.746 98.749 127.734 97.957 127.722 C 95.086 127.671 92.214 127.61 89.343 127.541 C 88.103 127.514 86.864 127.491 85.624 127.472 C 83.836 127.444 82.048 127.401 80.26 127.355 C 79.186 127.333 78.112 127.312 77.005 127.29 C 72.859 126.791 70.251 125.653 67.359 122.601 C 65.589 119.96 65.414 118.615 65.396 115.461 C 65.382 114.501 65.369 113.542 65.356 112.554 C 65.36 111.525 65.364 110.495 65.368 109.436 C 65.364 108.371 65.358 107.307 65.353 106.211 C 65.345 103.962 65.348 101.714 65.36 99.465 C 65.374 96.592 65.355 93.72 65.326 90.848 C 65.304 88.096 65.312 85.344 65.317 82.592 C 65.306 81.565 65.295 80.537 65.284 79.478 C 65.369 71.528 65.369 71.528 67.66 68.531 C 71.751 65.126 75.167 64.73 80.359 64.644 C 80.955 64.628 81.549 64.611 82.162 64.595 C 84.052 64.546 85.94 64.507 87.829 64.469 C 89.115 64.438 90.4 64.406 91.686 64.373 C 94.827 64.293 97.968 64.224 101.109 64.16 C 101.482 63.247 101.855 62.334 102.24 61.394 C 105.267 54.033 108.681 47.468 113.414 41.033 C 113.919 40.341 114.423 39.649 114.944 38.936 C 133.506 14.559 161.375 0.945 191.791 1.054 Z M 165.61 36.749 C 165.065 37.032 164.519 37.315 163.957 37.608 C 159.574 39.949 155.712 42.704 151.972 45.989 C 151.177 46.628 150.382 47.266 149.562 47.925 C 138.017 57.627 130.158 74.424 128.569 89.254 C 126.978 107.902 131.91 126.094 143.82 140.663 C 150.363 148.279 157.967 154.237 166.944 158.68 C 167.688 159.059 167.688 159.059 168.449 159.446 C 181.919 165.636 196.479 165.417 210.965 165.343 C 213.802 165.33 216.638 165.336 219.475 165.34 C 224.234 165.341 228.992 165.33 233.75 165.311 C 239.212 165.289 244.673 165.287 250.135 165.297 C 255.441 165.306 260.747 165.302 266.053 165.29 C 268.288 165.285 270.523 165.285 272.757 165.289 C 299.132 165.309 319.238 161.684 338.536 142.286 C 342.96 137.587 346.124 132.78 348.861 126.932 C 349.418 125.744 349.418 125.744 349.986 124.532 C 356.78 109.105 358.207 90.861 352.142 74.897 C 344.642 56.553 332.229 42.751 314.047 34.89 C 304.477 30.898 295.793 30.172 285.566 30.149 C 284.496 30.144 283.427 30.139 282.325 30.133 C 278.798 30.115 275.27 30.107 271.743 30.099 C 270.521 30.096 269.3 30.092 268.078 30.089 C 262.334 30.073 256.59 30.061 250.846 30.054 C 244.25 30.046 237.654 30.025 231.057 29.991 C 225.936 29.966 220.815 29.954 215.694 29.951 C 212.646 29.949 209.598 29.942 206.549 29.921 C 185.395 29.769 185.395 29.769 165.61 36.749 Z"
						fill="#DCDCDC"
					></path>
					<path
						d="M 197.913 1.387 C 197.913 1.66 197.913 1.932 197.913 2.213 C 196.94 2.394 195.967 2.575 194.965 2.762 C 169.677 7.661 146.742 19.92 131.719 41.601 C 116.605 64.167 111.091 90.136 115.875 117.02 C 116.915 121.54 118.396 125.884 119.977 130.236 C 120.291 131.1 120.603 131.965 120.926 132.856 C 130.398 157.21 149.078 174.862 172.481 185.575 C 183.929 190.306 195.561 191.751 207.757 193.008 C 207.757 193.281 207.757 193.553 207.757 193.834 C 191.774 194.102 176.267 194.188 160.996 188.878 C 160.085 188.562 159.175 188.246 158.237 187.92 C 135.935 179.714 118.784 164.063 107.056 143.451 C 106.758 142.932 106.458 142.414 106.15 141.88 C 103.647 137.368 101.945 132.641 100.288 127.758 C 99.519 127.746 98.749 127.734 97.957 127.722 C 95.086 127.671 92.214 127.61 89.343 127.541 C 88.103 127.514 86.864 127.491 85.624 127.472 C 83.836 127.444 82.048 127.401 80.26 127.355 C 79.186 127.333 78.112 127.312 77.005 127.29 C 72.859 126.791 70.251 125.653 67.359 122.601 C 65.589 119.96 65.414 118.615 65.396 115.461 C 65.382 114.501 65.369 113.542 65.356 112.554 C 65.36 111.525 65.364 110.495 65.368 109.436 C 65.364 108.371 65.358 107.307 65.353 106.211 C 65.345 103.962 65.348 101.714 65.36 99.465 C 65.374 96.592 65.355 93.72 65.326 90.848 C 65.304 88.096 65.312 85.344 65.317 82.592 C 65.306 81.565 65.295 80.537 65.284 79.478 C 65.369 71.528 65.369 71.528 67.66 68.531 C 71.751 65.126 75.167 64.73 80.359 64.644 C 80.955 64.628 81.549 64.611 82.162 64.595 C 84.052 64.546 85.94 64.507 87.829 64.469 C 89.115 64.438 90.4 64.406 91.686 64.373 C 94.827 64.293 97.968 64.224 101.109 64.16 C 101.482 63.247 101.855 62.334 102.24 61.394 C 105.267 54.033 108.681 47.468 113.414 41.033 C 113.919 40.341 114.423 39.649 114.944 38.936 C 128.019 21.765 145.99 9.568 166.738 3.865 C 167.675 3.602 168.612 3.339 169.578 3.068 C 178.944 0.81 188.34 1.143 197.913 1.387 Z"
						fill="#BFC0C1"
					></path>
					<path
						d="M 189.853 30.215 C 190.802 30.218 191.752 30.22 192.729 30.223 C 193.712 30.23 194.695 30.237 195.708 30.244 C 197.206 30.249 197.206 30.249 198.735 30.255 C 201.196 30.265 203.656 30.279 206.116 30.296 C 206.116 30.568 206.116 30.841 206.116 31.121 C 205.49 31.183 204.862 31.245 204.216 31.309 C 188.411 33.262 172.94 41.448 162.601 53.767 C 152.409 67.206 147.727 80.601 147.717 97.456 C 147.701 98.656 147.701 98.656 147.686 99.88 C 147.67 107.979 148.737 115.421 152.126 122.802 C 152.38 123.365 152.633 123.928 152.894 124.508 C 160.664 141.352 173.44 153.385 190.551 160.231 C 195.058 161.804 199.77 162.568 204.476 163.274 C 204.476 163.546 204.476 163.819 204.476 164.1 C 201.263 164.173 198.05 164.216 194.836 164.255 C 193.94 164.276 193.045 164.296 192.122 164.318 C 183.236 164.397 175.262 162.595 167.251 158.731 C 166.665 158.45 166.08 158.169 165.476 157.88 C 148.972 149.589 137.212 134.994 131.331 117.492 C 126.186 99.927 127.559 81.772 136.139 65.462 C 145.517 48.59 159.865 37.621 177.996 31.873 C 182.052 30.74 185.635 30.194 189.853 30.215 Z"
						fill="#424457"
					></path>
					<path
						d="M 383.316 64.986 C 387.082 64.924 390.847 64.879 394.613 64.849 C 395.892 64.837 397.172 64.82 398.451 64.799 C 400.296 64.768 402.141 64.754 403.987 64.743 C 404.553 64.731 405.119 64.718 405.704 64.705 C 409.532 64.704 412.1 65.363 415.311 67.463 C 418.155 70.467 419.005 72.322 419.03 76.457 C 419.044 77.416 419.056 78.376 419.07 79.364 C 419.066 80.393 419.062 81.422 419.058 82.482 C 419.065 84.078 419.065 84.078 419.072 85.707 C 419.081 87.955 419.077 90.204 419.066 92.453 C 419.051 95.326 419.071 98.197 419.099 101.071 C 419.122 103.822 419.113 106.574 419.108 109.326 C 419.119 110.353 419.131 111.381 419.141 112.439 C 419.057 120.386 419.057 120.386 416.625 123.419 C 412.271 127.216 408.539 127.151 403.005 126.932 C 403.419 122.567 403.984 118.406 405.056 114.155 C 408.369 97.274 405.559 81.435 401.365 64.986 Z"
						fill="#BEBFC0"
					></path>
					<path
						d="M 78.565 64.824 C 79.822 64.833 79.822 64.833 81.105 64.84 C 81.97 64.854 82.836 64.868 83.728 64.882 C 84.609 64.89 85.491 64.897 86.399 64.905 C 88.568 64.924 90.736 64.952 92.905 64.986 C 90.444 66.637 90.444 66.637 88.393 67.722 C 85.991 69.354 85.171 70.647 83.881 73.245 C 83.509 75.456 83.509 75.456 83.55 77.805 C 83.534 79.146 83.534 79.146 83.518 80.512 C 83.521 81.469 83.523 82.425 83.526 83.412 C 83.519 84.898 83.519 84.898 83.513 86.414 C 83.507 88.507 83.509 90.6 83.515 92.693 C 83.522 95.893 83.499 99.092 83.472 102.29 C 83.472 104.326 83.472 106.362 83.474 108.397 C 83.465 109.352 83.456 110.307 83.446 111.291 C 83.49 116.459 83.647 119.731 87.162 123.628 C 88.666 124.696 88.666 124.696 90.239 125.177 C 91.559 125.637 91.559 125.637 92.905 126.106 C 92.905 126.379 92.905 126.651 92.905 126.932 C 89.863 127.005 86.821 127.048 83.778 127.087 C 82.49 127.118 82.49 127.118 81.176 127.15 C 72.952 127.228 72.952 127.228 69.114 124.454 C 66.282 121.439 65.42 119.6 65.396 115.461 C 65.382 114.501 65.369 113.542 65.356 112.554 C 65.36 111.525 65.364 110.495 65.368 109.436 C 65.364 108.371 65.359 107.307 65.353 106.211 C 65.345 103.962 65.348 101.714 65.36 99.465 C 65.374 96.592 65.355 93.72 65.326 90.848 C 65.304 88.096 65.312 85.344 65.317 82.592 C 65.306 81.565 65.295 80.537 65.284 79.478 C 65.369 71.528 65.369 71.528 67.66 68.531 C 71.271 65.525 73.925 64.772 78.565 64.824 Z"
						fill="#989DA0"
					></path>
					<g
						ref={lPupilRef}
						className="l-pupil"
						transform="matrix(0.820371, 0, 0, 0.825952, 100.380978, 32.999335)"
						style={{
							transformOrigin: '105px 78px', // Ajusta según necesidad
						}}
					>
						<path
							d="M 117.108 58.286 C 105.158 58.286 95.824 68.191 96.63 80.871 C 97.434 93.551 108.003 100.9 118.816 100.9 C 129.632 100.9 139.016 93.021 139.016 79.593 C 139.016 66.17 129.06 58.286 117.108 58.286 Z"
							style={{ fill: 'rgb(255, 255, 255)' }}
						></path>
					</g>

					<g
						ref={rPupilRef}
						className="r-pupil"
						transform="matrix(0.820371, 0, 0, 0.825952, 149.348825, 31.139811)"
						style={{
							transformOrigin: '160px 78px', // Ajusta según necesidad
						}}
					>
						<path
							d="M 168.219 56.959 C 156.269 56.959 146.935 66.864 147.741 79.544 C 148.545 92.224 159.114 99.573 169.927 99.573 C 180.743 99.573 190.127 91.694 190.127 78.266 C 190.127 64.843 180.171 56.959 168.219 56.959 Z"
							style={{ fill: 'rgb(255, 255, 255)' }}
						></path>
					</g>

					{/* Resto del SVG */}
					<path
						d="M 401.365 64.986 C 402.81 64.959 404.256 64.94 405.7 64.924 C 406.505 64.913 407.31 64.901 408.139 64.89 C 412.106 65.059 414.377 66.471 417.056 69.318 C 418.84 71.959 419.011 73.295 419.03 76.457 C 419.044 77.416 419.056 78.376 419.07 79.364 C 419.063 80.907 419.063 80.907 419.058 82.482 C 419.065 84.078 419.065 84.078 419.072 85.707 C 419.081 87.955 419.077 90.204 419.066 92.453 C 419.051 95.326 419.071 98.197 419.099 101.071 C 419.122 103.822 419.113 106.574 419.108 109.326 C 419.119 110.353 419.131 111.381 419.141 112.439 C 419.057 120.386 419.057 120.386 416.625 123.419 C 412.271 127.216 408.539 127.151 403.005 126.932 C 403.419 122.567 403.984 118.406 405.056 114.155 C 408.369 97.274 405.559 81.435 401.365 64.986 Z"
						fill="#BEBFC0"
					></path>
				</g>
			</svg>
		</div>
	)
}

export default RobotEyeTracking
